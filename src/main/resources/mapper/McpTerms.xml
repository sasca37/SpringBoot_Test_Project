<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.mainline.magic.scheduler.dao.McpTermsMergeLiDao">

	<select id="boardList" resultType="McpTerms">
		SELECT
		       *
		FROM (

			  SELECT ROW_NUMBER() OVER (ORDER BY TO_NUMBER(STATUS)) NUM
			  ,MERGE_ID
			  ,CODE
			  ,STATUS
			  ,CREATOR
			  ,TO_CHAR(CREATED,'YYYY-MM-DD') AS CREATED
			  ,UPDATOR
			  ,UPDATED
			  ,PATH
			  ,TO_CHAR(CONTRACT_DATE,'YYYY-MM-DD') AS CONTRACT_DATE
			  ,PRODUCT_CODE
			  ,REGISTRATION_NUM
			  FROM MCP_TERMS_MERGE_LI
			 <!-- <if test="registration_num != null and !registration_num.equals('null')">
			  WHERE REGISTRATION_NUM = #{registration_num}
			  </if>-->
			  ORDER BY NUM
			 )
		WHERE
		      NUM
		BETWEEN
		      #{pageStart}+1 AND #{perPageNum}+#{pageStart}

	</select>
	<select id="boardListCnt" resultType="int">
		SELECT
		      COUNT(*)
		FROM
		      MCP_TERMS_MERGE_LI
		/*WHERE STATUS = 03*/
	</select>

	<!--<sql id="search">
		<if test="status != null">
			<if test="status == 't'.toString()">AND TITLE LIKE '%' || #{status} || '%'</if>
			<if test="status == 'c'.toString()">AND CONTENT LIKE '%' || #{status} || '%'</if>
			<if test="status == 'w'.toString()">AND WRITER LIKE '%' || #{status} || '%'</if>
			<if test="status == 'tc'.toString()">AND (TITLE LIKE '%' || #{status} || '%') or (CONTENT LIKE '%' || #{keyword} || '%')</if>
		</if>
	</sql>-->
</mapper>